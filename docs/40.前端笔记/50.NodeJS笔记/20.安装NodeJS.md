# 安装NodeJS

## 直接使用已编译好的包

### 下载node 14.17.4 (包含 npm 6.14.14)

```shell
wget https://nodejs.org/dist/v14.17.4/node-v14.17.4-linux-x64.tar.xz
```

### 解压

```shell
tar xf node-v14.17.4-linux-x64.tar.xz
```

### 改名、移动目录

```shell
mv node-v14.17.4-linux-x64 nodejs
mv nodejs /home/soft/nodejs
```

### 设置软连接

解压文件的 bin 目录底下包含了 node、npm 等命令，我们可以使用 ln 命令来设置软连接：

```shell
ln -s /home/soft/nodejs/bin/npm /usr/local/bin/
ln -s /home/soft/nodejs/bin/node /usr/local/bin/
```

## CentOS 下源码安装

### 下载node 14.17.4 (包含 npm 6.14.14)

```shell
wget https://nodejs.org/dist/v14.17.4/node-v14.17.4.tar.gz
```

### 解压

```shell
tar zxvf node-v14.17.4.tar.gz
```

### 编译安装

```shell
cd node-v14.17.4
./configure --prefix=/home/soft/nodejs/14.17.4
make
make install
```

### 添加nodejs安装目录到系统环境变量

- 创建并打开文件nodejs.sh

```shell
vi /etc/profile.d/nodejs.sh
```

- 添加内容如下:

```shell
export PATH=$PATH:/home/soft/nodejs/14.17.4/bin
```

- 保存并退出

```shell
:wq!
```

- 更新环境变量

```shell
source /etc/profile
```

### 验证是否安装配置成功

```shell
node -v
```

::: tip 小结

Nginx 与 Node.js 的配套使用是部署 Node 服务时非常关键的环节，其中 Nginx
往往扮演的是景区大导游的角色，任何人过来要工人干活，都要先经过他，他看看你是来自哪儿的，把你的信息记录下，然后看你是要去哪里，再把你分配给相应的对象接待，简单来说就是，Nginx 搞分配，Node
去干活。当然像日志、安全证书和静态资源代理这些事情，也都可以由 Nginx 前置完成，这样 Node 就可以专心负责业务的部分了。

:::
