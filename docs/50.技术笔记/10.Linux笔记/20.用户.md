# 用户

## cat 查看所有用户列表

```shell
cat /etc/passwd
```

## w 查看当前活跃的用户列表

```shell
w
```

## whoami 查看当前登录用户名

```shell
whoami
```

## adduser 创建用户

```shell
# 创建用户
adduser foo
```

## userdel 删除用户

```shell
userdel -r foo
```

## passwd 修改密码

```shell
# 修改密码
passwd foo
```

## 锁定用户

### 方法1 passwd -l foo

### 方法2 usermod -s /sbin/nologin foo

```shell
# 方法1
passwd -l foo

# 方法2
usermod -s /sbin/nologin foo

# 此时，用户不能被登录。会报：此帐户目前不可用。
```

## 解锁用户

### 方法1 passwd -u

### 方法2 修改配置/etc/passwd

```shell
passwd -u foo

# 假如说，此时还不能被登录

# 查看该账号信息
cat /etc/passwd | grep foo
# foo:x:1001:1001::/home/foo:/sbin/nologin

# 修改配置，由 /sbin/nologin 改成 /bin/bash
vi /etc/passwd
# foo:x:1001:1001::/home/foo:/bin/bash
```

## 查看用户账号信息

### cat /etc/passwd

```shell
# 用户数据库
cat /etc/passwd
```

### cat /etc/shadow

```shell
# 更详细的用户数据库
cat /etc/shadow
# 包含正常账号、锁定账号（foo:!!开头的）
```

## 赋予账号与root相同的更高权限

```shell
visudo  # 等同于：vi /etc/sudoers
```