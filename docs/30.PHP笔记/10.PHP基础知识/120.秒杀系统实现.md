# 秒杀系统实现

## ======【原理知识】======

## 原理1：减而治之

### CDN原理

### nginx限流

nginx限流配置：

- 按连接数限速，即并发数（`ngx_http_limit_conn_module`）
- 按请求速率限速，按照ip限制单位时间内的请求数（`ngx_http_limit_req_module`）

限流配置：

- `limit_req_zone $binary_remote_addr zone=mylimit:10m rate=1r/s;`    // 创建规则
- `limit_req zone=mylimit burst=1 nodelay;`   // 应用规则

> `limit_req_zone` 在 `nginx.conf` 的 `http` 模块下`创建规则`；`limit_req zone=` 在 `server` 模块下`应用规则`.

### 异步队列

## 原理2：分而治之

### nginx负载均衡

## 特征

### 写强一致性

### 读弱一致性

## 秒杀系统核心实现

### 极致性能的读服务实现

### 极致性能的写服务实现

### 极致性能的排队进度查询实现

### 链路流量优化如何做

## 压测工具

### 压测工具安装

```shell
yum -y install httpd-tools
ab -V
```

### 压测使用说明

- 检测接口最大qps

```shell
ab -n100 -c 10 http://xxx

Requests per second: 101.15 [#/sec] (mean)
```
